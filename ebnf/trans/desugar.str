module desugar

imports

  src-gen/signatures/Common-sig
  src-gen/signatures/ebnf-sig

strategies

  desugar-all = bottomup(try(desugar))
  
rules

  desugar: Delimiter("\\|") -> Delimiter("|")

  desugar: Sequence(Seq(l1), Seq(l2)) -> Seq(<concat> [l1, l2])
  desugar: Sequence(a, Seq(l2)) -> Seq(<concat> [[a], l2])
  desugar: Sequence(Seq(l1), b) -> Seq(<concat> [l1, [b]])
  desugar: Sequence(a, b) -> Seq([a, b])
  
signature constructors

  Seq : List(Term) -> Term