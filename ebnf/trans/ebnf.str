module ebnf

imports
  
  completion/completion
  pp
  outline
  analysis
  desugar
  to-sdf
  signatures/ebnf-sig
  libspoofax/stratego/debug

rules // Debugging
  
  debug-show-aterm:
    (node, _, _, path, project-path) -> (filename, result)
    with
      filename := <guarantee-extension(|"aterm")> path
    ; result   := node

  debug-desugar-ast: (_, _, ast, path, project-path) -> (filename, result)
    with 
      filename := <guarantee-extension(|"desugared.aterm")> path
    ; result   := <desugar-all> ast

  debug-show-sdf3:
  	(_, _, ast, path, project-path) -> result
  	with
  	  filename := <guarantee-extension(|"sdf3")> path
  	; desugared:= <desugar-all> ast
  	; result   := <to-sdf> (desugared, path)
